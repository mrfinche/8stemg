<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Майбутнє Транспорту: Електрифікація та Автономність</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F3F4F6; color: #1F2937; }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin: 0 auto; 
            height: 300px; 
            max-height: 400px; 
        }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        
        .tab-content { display: none; animation: fadeIn 0.3s ease-in-out; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .sensor-point {
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
            animation: pulse-blue 2s infinite;
        }
        @keyframes pulse-blue {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
    </style>
    <!-- Chosen Palette: "Eco-Tech Harmony" - Warm neutrals (#F3F4F6 background) with Slate (#1F2937 text), Emerald Green for Electric/Eco concepts, and Indigo/Blue for Autonomous/Tech concepts. Subtle amber accents for alerts/ethics. -->
    
    <!-- Application Structure Plan: 
         1. Header: Simple top navigation to switch between 3 main views: 'Огляд' (Overview), 'Електротранспорт' (ET), 'Безпілотні Авто' (AT).
         2. Overview Tab: Dashboard-style summary cards introducing the two pillars (Green Energy vs AI).
         3. Electric Transport Tab: 
            - 'Vehicle Showcase': Grid of cards filtering types (Public, Personal, Micro).
            - 'Eco-Logic': Interactive Chart.js bar chart comparing Efficiency (ICE vs EV) and Line chart for Carbon Debt payback.
            - 'Battery Lifecycle': A horizontal step-by-step flow (Mining -> Usage -> Recycling) using clickable HTML blocks.
         4. Autonomous Transport Tab:
            - 'The Sensor Suite': An interactive visual (CSS abstraction of a car) where users click 'Sensors' (Lidar, Camera) to see their role.
            - 'Levels of Autonomy': A vertical stepper showing SAE levels 0-5.
            - 'The Ethics Lab': A simple toggle interaction presenting the "Trolley Problem" logic.
         Rationale: This structure separates the distinct technological domains while keeping them accessible. The 'Overview' synthesizes them. Interactive charts and diagrams replace dense text to maintain engagement.
    -->

    <!-- Visualization & Content Choices:
         1. Efficiency Chart: Goal -> Compare Energy use. Viz -> Bar Chart (Chart.js). Interaction -> Hover for values. Justification -> Clear visual winner for EVs (90% vs 30%).
         2. Battery Lifecycle: Goal -> Explain complex process. Viz -> Flexbox Step Process (HTML/CSS). Interaction -> Click step to reveal details (Mining/Recycling). Justification -> Linear process fits flow better than a chart.
         3. Sensor Map: Goal -> Explain AT tech. Viz -> 'Car' div with absolute positioned sensor dots. Interaction -> Hover/Click to update text panel. Justification -> Spatial context helps understand where Lidar/Radar go.
         4. Ethical Dilemma: Goal -> Engage with philosophy. Viz -> Card with Scenario A/B. Interaction -> Button toggle. Justification -> Makes the abstract 'Trolley Problem' concrete.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-slate-800 tracking-tight">Future<span class="text-emerald-600">Move</span></span>
                </div>
                <div class="flex space-x-1 sm:space-x-8 items-center" id="nav-container">
                    <button onclick="switchTab('overview')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium text-emerald-600 bg-emerald-50 transition-colors" data-tab="overview">Огляд</button>
                    <button onclick="switchTab('electric')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 transition-colors" data-tab="electric">Електротранспорт</button>
                    <button onclick="switchTab('autonomous')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 transition-colors" data-tab="autonomous">Безпілотники</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto px-4 py-6 max-w-6xl">

        <!-- TAB 1: OVERVIEW -->
        <div id="overview" class="tab-content active">
            <header class="text-center mb-10">
                <h1 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">Майбутнє Транспорту Вже Тут</h1>
                <p class="text-lg text-slate-600 max-w-3xl mx-auto">
                    Цей інтерактивний звіт досліджує дві революційні сили, що змінюють наш світ: перехід на 
                    <span class="text-emerald-600 font-semibold">електричну тягу</span> та впровадження 
                    <span class="text-indigo-600 font-semibold">штучного інтелекту</span> у керування.
                </p>
            </header>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Electric Card -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer border-t-4 border-emerald-500" onclick="switchTab('electric')">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-2xl font-bold text-slate-800">Електротранспорт</h2>
                            <span class="text-3xl">?</span>
                        </div>
                        <p class="text-slate-600 mb-4">Від електросамокатів до кар'єрних самоскидів. Екологічна альтернатива, що зменшує залежність від викопного палива та очищує повітря міст.</p>
                        <ul class="space-y-2 text-sm text-slate-500">
                            <li class="flex items-center"><span class="w-2 h-2 bg-emerald-400 rounded-full mr-2"></span>Нульові викиди в місті</li>
                            <li class="flex items-center"><span class="w-2 h-2 bg-emerald-400 rounded-full mr-2"></span>ККД двигуна 90%</li>
                            <li class="flex items-center"><span class="w-2 h-2 bg-emerald-400 rounded-full mr-2"></span>Ефективна утилізація батарей</li>
                        </ul>
                        <div class="mt-6 text-emerald-600 font-semibold flex items-center">
                            Дослідити технології <span class="ml-2">></span>
                        </div>
                    </div>
                </div>

                <!-- Autonomous Card -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer border-t-4 border-indigo-500" onclick="switchTab('autonomous')">
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-2xl font-bold text-slate-800">Безпілотний Транспорт</h2>
                            <span class="text-3xl">??</span>
                        </div>
                        <p class="text-slate-600 mb-4">Автомобілі, що бачать більше за людину. Поєднання Lidar, радарів та ШІ для створення безпечнішого майбутнього без аварій.</p>
                        <ul class="space-y-2 text-sm text-slate-500">
                            <li class="flex items-center"><span class="w-2 h-2 bg-indigo-400 rounded-full mr-2"></span>6 рівнів автономності</li>
                            <li class="flex items-center"><span class="w-2 h-2 bg-indigo-400 rounded-full mr-2"></span>Технології V2X та Lidar</li>
                            <li class="flex items-center"><span class="w-2 h-2 bg-indigo-400 rounded-full mr-2"></span>Вирішення етичних дилем</li>
                        </ul>
                        <div class="mt-6 text-indigo-600 font-semibold flex items-center">
                            Дізнатися про ШІ-водіїв <span class="ml-2">></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-12 bg-white rounded-xl shadow-sm p-6">
                <h3 class="text-xl font-bold text-slate-800 mb-4">Ключові висновки звіту</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-2xl font-bold text-emerald-600">90%</div>
                        <div class="text-xs text-slate-500 uppercase tracking-wide mt-1">ККД Електродвигуна</div>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-2xl font-bold text-indigo-600">SAE 0-5</div>
                        <div class="text-xs text-slate-500 uppercase tracking-wide mt-1">Рівні Автономності</div>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-2xl font-bold text-amber-500">Li-ion</div>
                        <div class="text-xs text-slate-500 uppercase tracking-wide mt-1">Основна Технологія</div>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <div class="text-2xl font-bold text-blue-500">V2X</div>
                        <div class="text-xs text-slate-500 uppercase tracking-wide mt-1">Інфраструктура</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- TAB 2: ELECTRIC TRANSPORT -->
        <div id="electric" class="tab-content">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Екосистема Електротранспорту</h2>
                <p class="text-slate-600">
                    Електротранспорт — це не лише Tesla. Це ціла екосистема, що охоплює все: від самоката, на якому ви їдете до метро, до величезних кар'єрних самоскидів. Головна мета — сталий розвиток, зниження шуму та енергоефективність.
                </p>
            </div>

            <!-- Section 1: Types Interactive Grid -->
            <div class="bg-white p-6 rounded-xl shadow-sm mb-8">
                <h3 class="text-lg font-bold text-slate-700 mb-4">Види Електротранспорту</h3>
                <div class="flex flex-wrap gap-2 mb-4">
                    <button onclick="filterVehicles('all')" class="vehicle-filter active px-3 py-1 text-xs rounded-full border border-emerald-200 bg-emerald-100 text-emerald-800 hover:bg-emerald-200">Всі</button>
                    <button onclick="filterVehicles('public')" class="vehicle-filter px-3 py-1 text-xs rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100">Громадський/Комерційний</button>
                    <button onclick="filterVehicles('personal')" class="vehicle-filter px-3 py-1 text-xs rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100">Особистий</button>
                    <button onclick="filterVehicles('micro')" class="vehicle-filter px-3 py-1 text-xs rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100">ЗІМ (Мікромобільність)</button>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="vehicle-grid">
                    <!-- JS will populate this -->
                </div>
            </div>

            <!-- Section 2: Efficiency & Ecology Charts -->
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- Efficiency Chart -->
                <div class="bg-white p-6 rounded-xl shadow-sm flex flex-col">
                    <h3 class="text-lg font-bold text-slate-700 mb-2">Енергоефективність: ДВЗ проти Електро</h3>
                    <p class="text-sm text-slate-500 mb-4">Скільки енергії перетворюється на рух?</p>
                    <div class="chart-container">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-slate-500 italic bg-slate-50 p-2 rounded">
                        Електродвигуни перетворюють до 90% хімічної енергії в рух, тоді як ДВЗ втрачають більшість енергії у вигляді тепла.
                    </p>
                </div>

                <!-- Emissions Context -->
                <div class="bg-white p-6 rounded-xl shadow-sm">
                    <h3 class="text-lg font-bold text-slate-700 mb-2">Екологічність: "Вуглецевий борг"</h3>
                    <div class="prose prose-sm text-slate-600">
                        <p class="mb-3">
                            Виробництво електромобіля створює більше викидів CO2 через складний процес виготовлення батарей. Це називається <strong>"вуглецевим боргом"</strong>.
                        </p>
                        <p class="mb-3">
                            Однак, завдяки відсутності вихлопів під час експлуатації, електромобіль швидко "відпрацьовує" цей борг.
                        </p>
                        <div class="bg-emerald-50 p-3 rounded-lg border-l-4 border-emerald-500">
                            <h4 class="font-bold text-emerald-800 text-xs uppercase mb-1">Висновок звіту</h4>
                            <p class="text-sm">Вуглецевий слід електромобіля протягом всього життєвого циклу <strong>завжди нижчий</strong>, ніж у авто з ДВЗ, навіть при зарядці від "брудної" мережі.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Battery Lifecycle -->
            <div class="bg-white p-6 rounded-xl shadow-sm">
                <h3 class="text-lg font-bold text-slate-700 mb-4">Життєвий цикл Батареї: Від руди до переробки</h3>
                <p class="text-sm text-slate-500 mb-6">Натисніть на етапи, щоб дізнатися про технології видобутку та утилізації.</p>
                
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 relative">
                    <!-- Connecting line (desktop) -->
                    <div class="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-slate-200 -z-0 transform -translate-y-1/2"></div>

                    <!-- Step 1 -->
                    <div class="relative z-10 flex flex-col items-center cursor-pointer group w-full md:w-1/4" onclick="showBatteryDetail('mining')">
                        <div class="w-12 h-12 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center font-bold text-xl border-4 border-white shadow-sm group-hover:scale-110 transition-transform">1</div>
                        <span class="mt-2 font-medium text-slate-700 text-sm">Сировина</span>
                    </div>

                    <!-- Step 2 -->
                    <div class="relative z-10 flex flex-col items-center cursor-pointer group w-full md:w-1/4" onclick="showBatteryDetail('production')">
                        <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xl border-4 border-white shadow-sm group-hover:scale-110 transition-transform">2</div>
                        <span class="mt-2 font-medium text-slate-700 text-sm">Виробництво</span>
                    </div>

                    <!-- Step 3 -->
                    <div class="relative z-10 flex flex-col items-center cursor-pointer group w-full md:w-1/4" onclick="showBatteryDetail('usage')">
                        <div class="w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-xl border-4 border-white shadow-sm group-hover:scale-110 transition-transform">3</div>
                        <span class="mt-2 font-medium text-slate-700 text-sm">Експлуатація</span>
                    </div>

                    <!-- Step 4 -->
                    <div class="relative z-10 flex flex-col items-center cursor-pointer group w-full md:w-1/4" onclick="showBatteryDetail('recycling')">
                        <div class="w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-xl border-4 border-white shadow-sm group-hover:scale-110 transition-transform">4</div>
                        <span class="mt-2 font-medium text-slate-700 text-sm">Утилізація</span>
                    </div>
                </div>

                <div id="battery-detail-panel" class="mt-8 p-4 bg-slate-50 rounded-lg border border-slate-200 min-h-[120px]">
                    <h4 id="bd-title" class="font-bold text-slate-800 mb-2">Оберіть етап вище</h4>
                    <p id="bd-text" class="text-sm text-slate-600">Дізнайтеся деталі про технологічний процес створення та переробки Li-ion акумуляторів.</p>
                </div>
            </div>
        </div>

        <!-- TAB 3: AUTONOMOUS TRANSPORT -->
        <div id="autonomous" class="tab-content">
            <div class="mb-8">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Ера Безпілотників</h2>
                <p class="text-slate-600">
                    Самокерований транспорт використовує складний комплекс датчиків та ШІ для прийняття рішень. Поки ми знаходимося на етапі часткової автоматизації (рівні 2-3), технологія обіцяє кардинально знизити аварійність.
                </p>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Interactive Car Sensor View -->
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm">
                    <h3 class="text-lg font-bold text-slate-700 mb-4">Як бачить автомобіль?</h3>
                    <p class="text-sm text-slate-500 mb-6">Наведіть курсор або натисніть на пульсуючі точки, щоб зрозуміти призначення сенсорів.</p>
                    
                    <div class="relative bg-slate-100 rounded-xl h-64 w-full flex items-center justify-center overflow-hidden border border-slate-200">
                        <!-- Abstract Car Shape -->
                        <div class="w-48 h-24 bg-indigo-500 rounded-lg relative shadow-lg flex items-center justify-center text-white font-bold opacity-90">
                            Автономне Авто
                            <!-- Wheels -->
                            <div class="absolute -bottom-4 left-6 w-10 h-10 bg-slate-800 rounded-full"></div>
                            <div class="absolute -bottom-4 right-6 w-10 h-10 bg-slate-800 rounded-full"></div>
                        </div>

                        <!-- Sensors -->
                        <!-- Lidar (Top) -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-16" onmouseover="showSensorInfo('lidar')" onclick="showSensorInfo('lidar')">
                            <div class="w-6 h-6 bg-red-500 rounded-full sensor-point flex items-center justify-center text-white text-xs shadow-lg">L</div>
                        </div>
                        <!-- Camera (Front) -->
                        <div class="absolute top-1/2 left-1/2 transform translate-x-20 -translate-y-8" onmouseover="showSensorInfo('camera')" onclick="showSensorInfo('camera')">
                            <div class="w-6 h-6 bg-yellow-500 rounded-full sensor-point flex items-center justify-center text-white text-xs shadow-lg">C</div>
                        </div>
                        <!-- Radar (Front Bumper) -->
                        <div class="absolute top-1/2 left-1/2 transform translate-x-24 translate-y-4" onmouseover="showSensorInfo('radar')" onclick="showSensorInfo('radar')">
                            <div class="w-6 h-6 bg-blue-500 rounded-full sensor-point flex items-center justify-center text-white text-xs shadow-lg">R</div>
                        </div>
                        <!-- Ultrasonic (Side) -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-10 translate-y-8" onmouseover="showSensorInfo('ultra')" onclick="showSensorInfo('ultra')">
                            <div class="w-6 h-6 bg-green-500 rounded-full sensor-point flex items-center justify-center text-white text-xs shadow-lg">U</div>
                        </div>
                    </div>

                    <div id="sensor-info" class="mt-4 p-4 bg-indigo-50 border border-indigo-100 rounded-lg">
                        <h4 class="font-bold text-indigo-900">Наведіть на сенсор</h4>
                        <p class="text-sm text-indigo-700 mt-1">Оберіть елемент на схемі, щоб дізнатися про його функцію.</p>
                    </div>
                </div>

                <!-- Levels of Autonomy -->
                <div class="bg-white p-6 rounded-xl shadow-sm">
                    <h3 class="text-lg font-bold text-slate-700 mb-4">Рівні Автономності (SAE)</h3>
                    <div class="space-y-3 max-h-[400px] overflow-y-auto pr-2">
                        <div class="level-card p-3 rounded border border-slate-200 hover:border-indigo-300 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-slate-200 px-2 py-0.5 rounded text-slate-700">Рівень 0</span>
                            <p class="text-sm text-slate-600 mt-1">Повне ручне керування.</p>
                        </div>
                        <div class="level-card p-3 rounded border border-slate-200 hover:border-indigo-300 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-slate-200 px-2 py-0.5 rounded text-slate-700">Рівень 1</span>
                            <p class="text-sm text-slate-600 mt-1">Допомога водію (Круїз-контроль).</p>
                        </div>
                        <div class="level-card p-3 rounded border-l-4 border-l-indigo-500 bg-indigo-50 border-slate-200 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-indigo-200 px-2 py-0.5 rounded text-indigo-800">Рівень 2 (Зараз)</span>
                            <p class="text-sm text-slate-600 mt-1">Часткова автоматизація. Водій контролює все.</p>
                        </div>
                        <div class="level-card p-3 rounded border border-slate-200 hover:border-indigo-300 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-slate-200 px-2 py-0.5 rounded text-slate-700">Рівень 3</span>
                            <p class="text-sm text-slate-600 mt-1">Умовна автоматизація. Водій має бути готовий перехопити кермо.</p>
                        </div>
                        <div class="level-card p-3 rounded border border-slate-200 hover:border-indigo-300 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-slate-200 px-2 py-0.5 rounded text-slate-700">Рівень 4</span>
                            <p class="text-sm text-slate-600 mt-1">Висока автоматизація. Авто їде саме в певних зонах.</p>
                        </div>
                        <div class="level-card p-3 rounded border border-slate-200 hover:border-indigo-300 cursor-pointer transition-colors" onclick="highlightLevel(this)">
                            <span class="text-xs font-bold bg-slate-200 px-2 py-0.5 rounded text-slate-700">Рівень 5</span>
                            <p class="text-sm text-slate-600 mt-1">Повна автоматизація. Кермо не потрібне.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ethics Section -->
            <div class="mt-8 bg-white p-6 rounded-xl shadow-sm border-t-4 border-amber-400">
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="md:w-1/2">
                        <h3 class="text-lg font-bold text-slate-700 mb-2">Етика: Проблема Вагонетки</h3>
                        <p class="text-sm text-slate-600 mb-4">
                            Найскладніше питання для ШІ — це не "як їхати", а "кого рятувати" у неминучій аварії. Етичні рекомендації схиляються до мінімізації жертв, але як це закодувати?
                        </p>
                        <div class="bg-amber-50 p-4 rounded-lg">
                            <p class="font-bold text-amber-800 mb-2">Дилема:</p>
                            <p class="text-sm text-amber-900 mb-3">На дорозі 5 пішоходів. Відмова гальм. Повернути в стіну (загине пасажир) чи їхати прямо (загинуть пішоходи)?</p>
                            <div class="flex gap-2">
                                <button onclick="resolveEthics('utilitarian')" class="px-3 py-1 bg-white border border-amber-300 text-amber-800 text-xs rounded hover:bg-amber-100">Мінімізувати жертви</button>
                                <button onclick="resolveEthics('passenger')" class="px-3 py-1 bg-white border border-amber-300 text-amber-800 text-xs rounded hover:bg-amber-100">Захистити пасажира</button>
                            </div>
                            <p id="ethics-result" class="text-xs mt-3 text-slate-500 font-style: italic min-h-[40px]"></p>
                        </div>
                    </div>
                    <div class="md:w-1/2">
                        <h3 class="text-lg font-bold text-slate-700 mb-2">Інфраструктура та Безпека</h3>
                        <div class="space-y-2">
                            <details class="group p-2 border border-slate-200 rounded cursor-pointer open:bg-slate-50">
                                <summary class="text-sm font-semibold text-slate-700 list-none flex justify-between">
                                    Безпека (Плюси та Мінуси)
                                    <span class="text-indigo-500 group-open:rotate-180 transition-transform">Ў</span>
                                </summary>
                                <div class="text-xs text-slate-600 mt-2 pl-2 border-l-2 border-indigo-200">
                                    <p class="mb-1"><strong>+</strong> Усунення 90% аварій через людський фактор (втома, алкоголь).</p>
                                    <p><strong>-</strong> Ризик кібератак та помилок у "нестандартних" ситуаціях (Corner cases).</p>
                                </div>
                            </details>
                            <details class="group p-2 border border-slate-200 rounded cursor-pointer open:bg-slate-50">
                                <summary class="text-sm font-semibold text-slate-700 list-none flex justify-between">
                                    Потреби Інфраструктури
                                    <span class="text-indigo-500 group-open:rotate-180 transition-transform">Ў</span>
                                </summary>
                                <div class="text-xs text-slate-600 mt-2 pl-2 border-l-2 border-indigo-200">
                                    <p>Для повної автономії потрібні V2I зв'язок (дорога "говорить" з авто), ідеальна розмітка, HD-карти та правове регулювання.</p>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-slate-800 text-slate-400 py-6 mt-8">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>&copy; 2025 Звіт про майбутнє транспорту. Створено на основі наданих даних.</p>
        </div>
    </footer>

    <script>
        // --- Data Storage ---
        const vehicles = [
            { type: 'public', name: 'Електробус', icon: '??' },
            { type: 'public', name: 'Метро / Трамвай', icon: '??' },
            { type: 'public', name: 'Кар\'єрний самоскид', icon: '??' },
            { type: 'personal', name: 'Електромобіль (BEV)', icon: '??' },
            { type: 'personal', name: 'Гібрид (PHEV)', icon: '??' },
            { type: 'micro', name: 'Електросамокат', icon: '??' },
            { type: 'micro', name: 'Моноколесо', icon: '??' },
            { type: 'micro', name: 'Гіроскутер', icon: '??' },
            { type: 'special', name: 'Дрон (БПЛА)', icon: '??' },
            { type: 'special', name: 'Гольф-кар', icon: '?' }
        ];

        const batteryDetails = {
            mining: { title: "1. Видобуток Сировини", text: "Літій видобувають з соляних озер (випарювання) або твердих порід. Кобальт та нікель — шахтним методом. Це енергоємний процес з екологічними ризиками." },
            production: { title: "2. Виготовлення", text: "Створення електродів (катода та анода), нанесення покриття на фольгу, збірка комірки в 'сухих кімнатах' та заповнення електролітом." },
            usage: { title: "3. Експлуатація", text: "Період 'чистої' роботи. Відсутність викидів. Можливість повторного використання (Second Life) у стаціонарних накопичувачах після зносу в авто." },
            recycling: { title: "4. Утилізація", text: "Гідрометалургія (розчинення в кислотах, високий % відновлення) або Пірометалургія (спалювання, менш ефективно). Критично важливо для повернення металів у цикл." }
        };

        const sensorInfo = {
            lidar: { title: "Lidar (Лазер)", text: "Створює точну 3D-карту світу навколо, вимірюючи час повернення лазерних променів. Бачить форму об'єктів." },
            camera: { title: "Камери (Зір)", text: "Розпізнають кольори, дорожні знаки, розмітку та сигнали світлофорів. Єдиний сенсор, що 'читає' візуальну інформацію." },
            radar: { title: "Радар", text: "Використовує радіохвилі. Визначає швидкість та дистанцію. Працює краще за інших у дощ та туман." },
            ultra: { title: "Ультразвук", text: "Сенсори близької дії. Ідеальні для паркування та виявлення об'єктів у сліпих зонах поруч з авто." }
        };

        // --- Navigation Logic ---
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            // Update buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.tab === tabId) {
                    btn.classList.remove('text-slate-500', 'hover:bg-emerald-50');
                    btn.classList.add('text-emerald-600', 'bg-emerald-50');
                } else {
                    btn.classList.add('text-slate-500');
                    btn.classList.remove('text-emerald-600', 'bg-emerald-50');
                }
            });

            // Initialize grid if Electric tab
            if (tabId === 'electric') {
                filterVehicles('all');
                renderCharts(); // Ensure charts render correctly after tab becomes visible
            }
        }

        // --- Electric Transport Logic ---
        function filterVehicles(category) {
            const grid = document.getElementById('vehicle-grid');
            grid.innerHTML = '';
            
            // Update filter buttons styles
            document.querySelectorAll('.vehicle-filter').forEach(btn => {
                if ((category === 'all' && btn.innerText === 'Всі') || 
                    (category === 'public' && btn.innerText.includes('Громадський')) ||
                    (category === 'personal' && btn.innerText.includes('Особистий')) ||
                    (category === 'micro' && btn.innerText.includes('ЗІМ'))) {
                    btn.classList.add('bg-emerald-100', 'text-emerald-800', 'border-emerald-200');
                    btn.classList.remove('text-slate-600', 'border-slate-200');
                } else {
                    btn.classList.remove('bg-emerald-100', 'text-emerald-800', 'border-emerald-200');
                    btn.classList.add('text-slate-600', 'border-slate-200');
                }
            });

            const filtered = category === 'all' ? vehicles : vehicles.filter(v => v.type === category);
            
            filtered.forEach(v => {
                const card = document.createElement('div');
                card.className = 'bg-slate-50 p-4 rounded-lg flex flex-col items-center justify-center text-center border border-slate-100 hover:border-emerald-300 transition-colors';
                card.innerHTML = `<div class="text-3xl mb-2">${v.icon}</div><div class="text-sm font-medium text-slate-700">${v.name}</div>`;
                grid.appendChild(card);
            });
        }

        function showBatteryDetail(stage) {
            const detail = batteryDetails[stage];
            const titleEl = document.getElementById('bd-title');
            const textEl = document.getElementById('bd-text');
            
            // Simple fade effect
            textEl.style.opacity = 0;
            setTimeout(() => {
                titleEl.textContent = detail.title;
                textEl.textContent = detail.text;
                textEl.style.opacity = 1;
            }, 200);
        }

        // --- Autonomous Transport Logic ---
        function showSensorInfo(sensor) {
            const info = sensorInfo[sensor];
            const container = document.getElementById('sensor-info');
            container.innerHTML = `<h4 class="font-bold text-indigo-900">${info.title}</h4><p class="text-sm text-indigo-700 mt-1">${info.text}</p>`;
        }

        function highlightLevel(element) {
            // Remove highlighting from others
            document.querySelectorAll('.level-card').forEach(el => {
                el.classList.remove('bg-indigo-50', 'border-l-4', 'border-l-indigo-500');
                el.classList.add('border-slate-200');
            });
            // Add to clicked
            element.classList.remove('border-slate-200');
            element.classList.add('bg-indigo-50', 'border-l-4', 'border-l-indigo-500');
        }

        function resolveEthics(choice) {
            const resBox = document.getElementById('ethics-result');
            if (choice === 'utilitarian') {
                resBox.innerHTML = "<strong>Вибір утилітаризму:</strong> ШІ жертвує пасажиром заради порятунку 5 життів. Це мінімізує загальну шкоду, але хто купить авто, що може вбити власника?";
            } else {
                resBox.innerHTML = "<strong>Захист пасажира:</strong> Авто рятує вас, але гине 5 людей. Це продається краще, але суспільство може не прийняти таких егоїстичних машин.";
            }
        }

        // --- Charts Initialization ---
        let chartsInitialized = false;

        function renderCharts() {
            if (chartsInitialized) return;
            
            const ctxEfficiency = document.getElementById('efficiencyChart').getContext('2d');
            
            new Chart(ctxEfficiency, {
                type: 'bar',
                data: {
                    labels: ['Двигун Внутрішнього Згоряння (ДВЗ)', 'Електродвигун (EV)'],
                    datasets: [{
                        label: 'Коефіцієнт Корисної Дії (%)',
                        data: [30, 90],
                        backgroundColor: ['#94a3b8', '#10b981'],
                        borderRadius: 6,
                        barThickness: 50
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw + '% енергії йде на рух';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: { display: true, text: 'Ефективність (%)' }
                        }
                    }
                }
            });

            chartsInitialized = true;
        }

        // --- Init ---
        // Initialize filtered grid on load
        window.onload = function() {
            filterVehicles('all');
        };

    </script>
</body>
</html>